(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61d6a70e"],{4281:function(t,e,a){"use strict";var i=a("ec8b"),n=a.n(i);n.a},d227:function(t,e,a){"use strict";function i(t,e,a,i){function n(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function r(t){try{l(i["throw"](t))}catch(e){s(e)}}function l(t){t.done?a(t.value):n(t.value).then(o,r)}l((i=i.apply(t,e||[])).next())}))}function n(t){return i(this,void 0,void 0,(function*(){const e=yield fetch(`${t}`);return yield e.blob()}))}function s(t){return t.type.includes("jpeg")}function o(t){return t.type.includes("png")}function r(t){return i(this,void 0,void 0,(function*(){return new Promise((function(e,a){const i=document.createElement("img");i.crossOrigin="anonymous",i.src=t,i.onload=function(t){const a=t.target;e(a)},i.onabort=a,i.onerror=a}))}))}function l(t){return i(this,void 0,void 0,(function*(){return new Promise((function(e,a){const i=document.createElement("canvas"),n=i.getContext("2d");if(n){const{width:s,height:o}=t;i.width=s,i.height=o,n.drawImage(t,0,0,s,o),i.toBlob((function(t){t?e(t):a("Cannot get blob from image element")}),"image/png",1)}}))}))}function c(t){return i(this,void 0,void 0,(function*(){const e=URL.createObjectURL(t),a=yield r(e);return yield l(a)}))}function d(t){return i(this,void 0,void 0,(function*(){const e={[t.type]:t},a=new ClipboardItem(e);yield navigator.clipboard.write([a])}))}function p(t){return i(this,void 0,void 0,(function*(){const e=yield n(t);if(s(e)){const t=yield c(e);return yield d(t),e}if(o(e))return yield d(e),e;throw new Error("Cannot copy this type of image to clipboard")}))}a.d(e,"a",(function(){return p}))},ec8b:function(t,e,a){},f8e8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"1"},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"md:flex"},[a("div",{staticClass:"lg:w-1/5 mt-4 md:mt-0"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",options:t.pilihanA},on:{input:t.updatePilihan},model:{value:t.pilihanASelected,callback:function(e){t.pilihanASelected=e},expression:"pilihanASelected"}})],1),a("div",{staticClass:"lg:w-2/5 mt-4 md:mt-0 md:ml-4"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",label:"nama",options:t.pilihanB},model:{value:t.pilihanBSelected,callback:function(e){t.pilihanBSelected=e},expression:"pilihanBSelected"}})],1),a("div",{staticClass:"lg:w-1/4 mt-4 md:mt-0 md:ml-4"},[a("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Bulan --",minimumView:"month",maximumView:"year",format:"MMMM yyyy"},model:{value:t.monthSelected,callback:function(e){t.monthSelected=e},expression:"monthSelected"}})],1),a("div",{staticClass:"w-10 mt-4 md:mt-0 md:ml-4"},[a("vs-button",{staticStyle:{display:"inline","margin-right":"30px"},attrs:{disabled:!t.validateForm,radius:"",color:"primary",icon:"search"},on:{click:t.loadDataServer}})],1)])]),a("vx-card",{directives:[{name:"show",rawName:"v-show",value:t.cardShow,expression:"cardShow"}],staticClass:"mb-base"},[a("vs-button",{staticClass:"float-right mb-2 px-3 pt-1 pb-0",attrs:{size:"small",color:"grey"},on:{click:t.printThis}},[a("feather-icon",{attrs:{icon:"CopyIcon"}})],1),a("div",{ref:"printcontent",staticClass:"p-2"},[a("h5",[t._v(t._s(t.title))]),a("div",{staticClass:"w-full"},[a("vs-table",{attrs:{data:t.sales},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,n){return a("vs-tr",{key:n,attrs:{state:""==i[n].periode?"primary":null,data:e}},[a("vs-td",{style:""==i[n].periode?"padding: 0px; border: 0px; border-bottom: 1px solid #DDDDDD;":"border: 0px; border-bottom: 1px solid #DDDDDD;",attrs:{data:i[n].periode}},[t._v(" "+t._s(i[n].periode)+" ")]),a("vs-td",{staticClass:"text-center",style:""==i[n].periode?"padding: 0px; border: 0px; border-bottom: 1px solid #DDDDDD;":"border: 0px; border-bottom: 1px solid #DDDDDD;",attrs:{data:i[n].now_omset}},[a("span",[t._v(t._s(i[n].now_omset.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))]),a("br"),a("small",{staticClass:"text-grey"},[t._v(t._s(i[n].now_not))])]),a("vs-td",{staticClass:"text-center",style:""==i[n].periode?"padding: 0px; border: 0px; border-bottom: 1px solid #DDDDDD;":"border: 0px; border-bottom: 1px solid #DDDDDD;",attrs:{data:i[n].past_omset}},[a("span",[t._v(t._s(i[n].past_omset.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))]),t._v(" "),a("br"),a("small",{staticClass:"text-grey"},[t._v(t._s(i[n].past_not))])]),a("vs-td",{staticClass:"text-center",style:""==i[n].periode?"padding: 0px; border: 0px; border-bottom: 1px solid #DDDDDD;":"border: 0px; border-bottom: 1px solid #DDDDDD;",attrs:{data:i[n].growth}},[parseInt(i[n].now_omset)>parseInt(i[n].past_omset)?a("div",{staticClass:"mt-3"},[a("span",[t._v(t._s(i[n].growth))]),a("br"),a("feather-icon",{staticClass:"text-success",attrs:{size:"14",icon:"TrendingUpIcon"}})],1):parseInt(i[n].past_omset)>parseInt(i[n].now_omset)?a("div",{staticClass:"mt-3"},[a("span",[t._v(t._s(i[n].growth))]),a("br"),a("feather-icon",{staticClass:"text-danger",attrs:{size:"14",icon:"TrendingDownIcon"}})],1):parseInt(i[n].now_omset)==parseInt(i[n].past_omset)?a("div",{staticClass:"mt-3"},[a("span",[t._v(t._s(i[n].growth))])]):a("div")])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",{staticClass:"bg-primary text-white",staticStyle:{border:"0px solid #DDDDDD"}},[t._v(" PERIODE ")]),a("vs-th",{staticClass:"bg-primary text-white date",staticStyle:{border:"0px solid #DDDDDD"},attrs:{"sort-key":"bln_ini"}},[t._v(" "+t._s(t.titleColumnTableNow)+" ")]),a("vs-th",{staticClass:"bg-primary text-white date",staticStyle:{border:"0px solid #DDDDDD"},attrs:{"sort-key":"bln_lalu"}},[t._v(" "+t._s(t.titleColumnTableLast)+" ")]),a("vs-th",{staticClass:"bg-primary text-white",staticStyle:{border:"0px solid #DDDDDD"},attrs:{"sort-key":"growth",width:"100px"}},[t._v(" GROWTH ")])],1)],2)],1)])],1)],1)},n=[],s=(a("96cf"),a("3b8d")),o=a("fa33"),r=a("c0e9d"),l=a.n(r),c=a("d227"),d=a("c1df"),p=a.n(d),u={data:function(){return{pilihanA:["Region","Wilayah","Area","Cabang","Toko"],pilihanASelected:null,pilihanB:[],pilihanBSelected:null,monthSelected:null,title:"",titleColumnTableNow:"",titleColumnTableLast:"",sales:[],cardShow:!1}},components:{Datepicker:o["a"]},computed:{validateForm:function(){return!this.errors.any()&&null!=this.pilihanBSelected&&null!=this.monthSelected}},methods:{loadDataServer:function(){var t=this;this.cardShow=!1,this.title="TREND SALES "+this.pilihanBSelected.nama+" - "+p()(this.monthSelected).locale("id").format("MMMM YYYY").toUpperCase(),this.titleColumnTableNow=p()(this.monthSelected).locale("id").format("MMMM").toUpperCase(),this.titleColumnTableLast=p()(this.monthSelected).subtract(1,"months").locale("id").format("MMMM").toUpperCase(),this.$vs.loading();var e={kode:this.pilihanBSelected.kode,bulan:btoa(p()(this.monthSelected).format("YYYY-MM"))};this.$http.post("/pos/sales/getSalesCompareLastMonth",e).then((function(e){t.$vs.loading.close(),"SUKSES"==e.data.status&&(t.cardShow=!0,t.sales=e.data.message)})).catch((function(e){t.$vs.loading.close()}))},updatePilihan:function(t){var e=this;this.$vs.loading(),this.$http.get("toko/"+t).then((function(t){"OK"==t.data.status&&(e.pilihanB=t.data.message)})).catch((function(t){})),setTimeout((function(){e.$vs.loading.close()}),1e3)},printThis:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$refs.printcontent,a={type:"dataURL"},t.next=4,l()(e,a);case 4:i=t.sent,Object(c["a"])(i.toDataURL("image/png")).then((function(){n.$swal.fire({title:"Success",text:"Gambar berhasil di copy..",icon:"success",timer:1500})})).catch((function(t){}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},h=u,m=(a("4281"),a("2877")),v=Object(m["a"])(h,i,n,!1,null,"835a996c",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-61d6a70e.4cd8ee00.js.map