(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e49438e"],{4837:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("vx-card",[s("vs-table",{attrs:{stripe:"",search:"",pagination:"",notSpacer:"","max-items":"10",data:t.po},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a){return s("vs-tr",{key:a.kode},[s("vs-td",{attrs:{data:a.tanggal}},[t._v(" "+t._s(a.tanggal)+" ")]),s("vs-td",{attrs:{data:a.stockpoint}},[t._v(" "+t._s(a.stockpoint)+" ")]),s("vs-td",{attrs:{data:a.barang}},[t._v(" "+t._s(a.barang)+" ")]),s("vs-td",{attrs:{data:a.qty}},[t._v(" "+t._s(a.qty)+" ")]),s("vs-td",{attrs:{data:a.kode_supplier}},[0==a.kode_supplier?s("div",[t._v(" - ")]):s("div",[t._v(t._s(a.nama_supplier))])]),s("vs-td",{staticClass:"text-center",attrs:{data:a.aksi}},[s("vx-tooltip",{attrs:{text:"Ubah Pesanan"}},[s("vs-button",{staticClass:"mr-1",staticStyle:{display:"inline"},attrs:{color:"warning",type:"filled",size:"small",icon:"create"},on:{click:function(s){return t.editData(a.kode,a.qty,a.kode_supplier)}}})],1)],1)],1)}))}}])},[s("template",{staticClass:"mb-5",slot:"header"},[s("h1",[t._v("Data Pesanan Pembelian")])]),s("template",{slot:"thead"},[s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"tanggal",width:"120px"}},[s("p",{staticClass:"w-full"},[t._v("Tanggal")])]),s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"stockpoint"}},[s("p",{staticClass:"w-full"},[t._v("Stock Point")])]),s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"barang"}},[s("p",{staticClass:"w-full"},[t._v("Barang")])]),s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"qty"}},[s("p",{staticClass:"w-full"},[t._v("Qty")])]),s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"supplier"}},[s("p",{staticClass:"w-full"},[t._v("Supplier")])]),s("vs-th",{staticClass:"bg-primary text-white  text-center",attrs:{width:"10px","sort-key":"aksi"}},[t._v(" Aksi ")])],1)],2)],1),s("vs-popup",{staticClass:"holamundo",attrs:{title:"Ubah Pesanan Pembelian",active:t.Edit},on:{"update:active":function(a){t.Edit=a}}},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col"},[s("small",{staticClass:"ml-1"},[t._v("Qty")]),s("br"),s("vs-input-number",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{min:"1",name:"form.qty","data-vv-validate-on":"blur"},model:{value:t.form.qty,callback:function(a){t.$set(t.form,"qty",a)},expression:"form.qty"}}),s("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("form.qty")))])],1)]),s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("small",{staticClass:"ml-1"},[t._v("Supplier")]),s("br"),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,placeholder:"-- Pilih Supplier --",name:"form.kode_supplier","data-vv-validate-on":"blur",reduce:function(t){return t.kode},label:"nama",options:t.supplier},model:{value:t.form.kode_supplier,callback:function(a){t.$set(t.form,"kode_supplier",a)},expression:"form.kode_supplier"}}),s("span",{staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("form.kode_supplier")))])],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full text-right"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success",disabled:!t.validateForm},on:{click:function(a){return t.updateData(t.form.kode)}}},[t._v("Simpan")])],1)])])],1)},i=[],r={data:function(){return{publicPath:"/main/",addNew:!1,Edit:!1,po:[],supplier:[],form:{qty:"",kode_supplier:null}}},computed:{validateForm:function(){return!this.errors.any()&&""!=this.form.qty&&""!=this.form.kode_supplier}},created:function(){this.loadData(),this.loadSupplier()},methods:{loadData:function(){var t=this;this.$http.get("agen/web/po").then((function(a){t.po=a.data.message})).catch((function(a){t.$swal.fire("Gagal !",a.response.data.message,"error")}))},loadSupplier:function(){var t=this;this.$http.get("agen/web/supplier").then((function(a){t.supplier=a.data.message})).catch((function(a){t.$swal.fire("Gagal !",a.response.data.message,"error")}))},editData:function(t,a,s){this.Edit=!0,this.form.kode=t,this.form.qty=a,this.form.kode_supplier=s},updateData:function(t){var a=this;this.$vs.loading();var s={kode:t,qty:this.form.qty,kode_supplier:this.form.kode_supplier};this.$http.post("agen/web/po/update",s).then((function(t){"SUKSES"==t.data.status?(a.form.qty="",a.kode_supplier=null,a.Edit=!1,a.$swal.fire({title:"Success",text:t.data.message,icon:"success"}).then((function(){a.loadData()}))):a.$swal.fire("Gagal !",t.data.message,"error")})).catch((function(t){a.$vs.loading.close(),a.$swal.fire("Gagal !",t.response.data.message,"error")})).finally((function(){a.$vs.loading.close()}))}}},l=r,o=(s("f4c4"),s("2877")),n=Object(o["a"])(l,e,i,!1,null,null,null);a["default"]=n.exports},a1ea:function(t,a,s){},f4c4:function(t,a,s){"use strict";var e=s("a1ea"),i=s.n(e);i.a}}]);
//# sourceMappingURL=chunk-6e49438e.bc017277.js.map