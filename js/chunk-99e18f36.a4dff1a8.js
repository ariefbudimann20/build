(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99e18f36"],{"504c":function(t,e,a){var r=a("0d58"),i=a("6821"),n=a("52a7").f;t.exports=function(t){return function(e){var a,l=i(e),s=r(l),o=s.length,c=0,d=[];while(o>c)n.call(l,a=s[c++])&&d.push(t?[a,l[a]]:l[a]);return d}}},8615:function(t,e,a){var r=a("5ca1"),i=a("504c")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},"8e6e":function(t,e,a){var r=a("5ca1"),i=a("990b"),n=a("6821"),l=a("11e9"),s=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=n(t),o=l.f,c=i(r),d={},u=0;while(c.length>u)a=o(r,e=c[u++]),void 0!==a&&s(d,e,a);return d}})},"990b":function(t,e,a){var r=a("9093"),i=a("2621"),n=a("cb7c"),l=a("7726").Reflect;t.exports=l&&l.ownKeys||function(t){var e=r.f(n(t)),a=i.f;return a?e.concat(a(t)):e}},"9a7b":function(t,e,a){"use strict";var r=a("fe81b"),i=a.n(r);i.a},adb8:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stok"},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"md:flex"},[a("div",{staticClass:"lg:w-1/6 mt-4 md:mt-0"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",options:t.pilihanA},on:{input:t.updatePilihan},model:{value:t.pilihanASelected,callback:function(e){t.pilihanASelected=e},expression:"pilihanASelected"}})],1),a("div",{staticClass:"lg:w-1/3 mt-4 md:mt-0 md:ml-6"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",label:"nama",options:t.pilihanB},model:{value:t.pilihanBSelected,callback:function(e){t.pilihanBSelected=e},expression:"pilihanBSelected"}})],1),a("div",{staticClass:"lg:w-1/4 mt-4 md:mt-0 md:ml-6"},[a("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Tanggal Awal --",minimumView:"day",maximumView:"month",format:"dd MMM yyyy"},model:{value:t.selectedStart,callback:function(e){t.selectedStart=e},expression:"selectedStart"}})],1),a("div",{staticClass:"lg:w-1/4 mt-4 md:mt-0 md:ml-6"},[a("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Tanggal Akhir --",minimumView:"day",maximumView:"month",format:"dd MMM yyyy"},model:{value:t.selectedEnd,callback:function(e){t.selectedEnd=e},expression:"selectedEnd"}})],1),a("div",{staticClass:"w-10 mt-4 md:mt-0 md:ml-6"},[a("vs-button",{staticStyle:{display:"inline","margin-right":"30px"},attrs:{disabled:!t.validateForm,radius:"",color:"primary",icon:"search"},on:{click:t.loadDataServer}})],1),a("div",{staticClass:"mt-4 md:mt-0 md:ml-6"},[a("vs-button",{staticClass:"py-2 px-3",attrs:{disabled:!t.validateForm,type:"border"},on:{click:function(e){return t.tableToExcelStore("tableStore","Tracking Void")}}},[a("i",{staticClass:"feather icon-file-text"})])],1)])]),a("vx-card",{directives:[{name:"show",rawName:"v-show",value:t.card,expression:"card"}],staticClass:"mt-5"},[a("div",{staticClass:"table-wrapper"},[a("table",{ref:"myTable",staticClass:"fixed-column"},[a("thead",[a("tr",{staticClass:"text-center"},t._l(t.headers.filter((function(t){return"Not"!=t.label&&"Void"!=t.label})),(function(e,r){return a("th",{key:r,attrs:{rowspan:e.rowspan,colspan:e.colspan}},[t._v(t._s(e.label))])})),0),a("tr",{staticClass:"text-center"},t._l(t.headers.filter((function(t){return"Not"==t.label||"Void"==t.label})),(function(e,r){return a("th",{key:r,staticStyle:{"z-index":"0"},attrs:{rowspan:e.rowspan,colspan:e.colspan}},[t._v(t._s(e.label))])})),0)]),a("tbody",t._l(t.table,(function(e,r){return a("tr",{key:r,ref:0===r?"intro":null,refInFor:!0},t._l(e,(function(r,i){return a("td",{key:i,staticStyle:{height:"34px"},domProps:{innerHTML:t._s(r)},on:{click:function(a){t.loadGrafik(t.getItemValue(e))}}})})),0)})),0)]),a("table",{ref:"tableStore",attrs:{hidden:""}},[a("thead",[a("tr",{staticClass:"text-center"},t._l(t.headers.filter((function(t){return"Not"!=t.label&&"Void"!=t.label})),(function(e,r){return a("th",{key:r,attrs:{rowspan:e.rowspan,colspan:e.colspan}},[t._v(t._s(e.label))])})),0),a("tr",{staticClass:"text-center"},t._l(t.headers.filter((function(t){return"Not"==t.label||"Void"==t.label})),(function(e,r){return a("th",{key:r,attrs:{rowspan:e.rowspan,colspan:e.colspan}},[t._v(t._s(e.label))])})),0)]),a("tbody",t._l(t.excel,(function(e,r){return a("tr",{key:r},t._l(e,(function(e,r){return a("td",{key:r,staticStyle:{height:"34px"},domProps:{innerHTML:t._s(e)}})})),0)})),0)])])]),a("vs-popup",{attrs:{fullscreen:"",title:"Grafik Void",active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[a("div",{staticClass:"flex justify-center items-center"},[a("div",{staticStyle:{width:"100%"}},[a("apexchart",{ref:"updateCharthourlySales",attrs:{height:"500",options:t.chartOptionshourlySales,series:t.series}})],1)])])],1)},i=[],n=(a("8e6e"),a("456d"),a("bd86")),l=(a("ac6a"),a("8615"),a("6b54"),a("a481"),a("c1df")),s=a.n(l),o=a("fa33"),c=a("1321"),d=a.n(c),u=(a("9992"),a("c18d"));function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={data:function(){return{uri:"data:application/vnd.ms-excel;base64,",template:'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',base64:function(t){return window.btoa(unescape(encodeURIComponent(t)))},format:function(t,e){return t.replace(/{(\w+)}/g,(function(t,a){return e[a]}))},pilihanA:["Region","Wilayah","Area","Cabang","Toko"],pilihanASelected:null,pilihanB:[],pilihanBSelected:null,selectedStart:null,selectedEnd:null,selectedMonth:new Date,excellStore:!0,sort:{key:"",isAsc:!1},headers:[],table:[],excel:[],card:!1,popupActive:!1,chartOptionshourlySales:{chart:{height:350,type:"line"},stroke:{curve:"smooth",width:[1]},fill:{type:"solid",opacity:[1]},colors:["#008efb"],markers:{size:0},dataLabels:{enabled:!0,formatter:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},yaxis:[{title:{text:"VOID"}}],grid:{padding:{top:0,right:30,bottom:0,left:0}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t,e){var a=e.series,r=e.seriesIndex,i=e.dataPointIndex;return a[r][i].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}},series:[]}},components:{Datepicker:o["a"],apexchart:d.a,introJs:u["a"]},computed:{validateForm:function(){return!this.errors.any()&&null!=this.pilihanBSelected&&null!=this.selectedStart&&null!=this.selectedEnd}},methods:{tableToExcelStore:function(t,e){t.nodeType||(t=this.$refs.tableStore);var a={worksheet:e||"Worksheet",table:t.innerHTML},r=e+"_"+s()(this.selectedStart).format("DD-MM-YYYY")+"_"+s()(this.selectedEnd).format("DD-MM-YYYY"),i=document.createElement("a");i.href=this.uri+this.base64(this.format(this.template,a)),i.download=r,i.click()},updatePilihan:function(t){var e=this;this.$vs.loading(),this.$http.get("toko/"+t).then((function(t){"OK"==t.data.status&&(e.pilihanB=t.data.message)})).catch((function(t){})),setTimeout((function(){e.$vs.loading.close()}),1e3)},getItemValue:function(t){return Object.values(t)[0]},loadDataServer:function(){var t=this;this.$vs.loading(),this.card=!1;var e={kode:this.pilihanBSelected.kode,nama:this.pilihanBSelected.nama,tgl_awal:btoa(this.selectedStart),tgl_akhir:btoa(this.selectedEnd)};this.$http.post("pos/dataVoid",e).then((function(e){if("SUKSES"==e.data.status){t.card=!0,t.headers=e.data.message.headers,t.table=e.data.message.table,t.excel=e.data.message.excel;var a=JSON.parse(localStorage.getItem("guide"));t.$nextTick((function(){var e=t.$refs.myTable,r=e.querySelector("tbody"),i=r.querySelectorAll("tr");null!=a&&1==a.void||i.length>0&&t.startIntro()}))}else t.$swal.fire("Gagal !",e.data.message,"error")})).catch((function(t){})).finally((function(){t.$vs.loading.close()}))},loadGrafik:function(t){this.popupActive=!0,this.save_local();var e=this.headers.filter((function(t){return"Not"!=t.label&&"Void"!=t.label}));e.shift();var a=e.map((function(t){return t.label})),r=this.excel.filter((function(e){return e[0]===t})),i=r.reduce((function(t,e){for(var a in e)t[a]=e[a];return t}),{});delete i["0"];var n={};for(var l in i)l%2===0&&(n[l]=i[l]);var s=Object.values(n);this.series=[{name:"VOID",type:"line",data:s}],this.$refs.updateCharthourlySales.updateSeries(this.series),this.$refs.updateCharthourlySales.updateOptions({xaxis:{categories:a}}),this.$refs.updateCharthourlySales.updateOptions({title:{text:"GERAI "+t}})},startIntro:function(){var t=this;this.$nextTick((function(){var e=Object(u["a"])();e.setOptions({steps:t.table.map((function(e,a){if(0===a){var r="Grafik Sales",i='<p>Silahkan klik nama gerai untuk melihat Grafik Sales</p><br/><img src="https://res.cloudinary.com/dph9nrhmr/image/upload/c_scale,w_268/v1686211876/chart_bo8rki.png" alt="Image Description">',n="bottom-middle";return{element:t.$refs.intro[a],intro:i,title:r,position:n}}return null})).filter((function(t){return null!==t}))}),e.start()}))},save_local:function(){var t=JSON.parse(localStorage.getItem("guide")),e={void:!0},a=h({},t,{},e);localStorage.setItem("guide",JSON.stringify(a))}}},m=f,b=(a("9a7b"),a("2877")),v=Object(b["a"])(m,r,i,!1,null,"a7301d76",null);e["default"]=v.exports},f1ae:function(t,e,a){"use strict";var r=a("86cc"),i=a("4630");t.exports=function(t,e,a){e in t?r.f(t,e,i(0,a)):t[e]=a}},fe81b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-99e18f36.a4dff1a8.js.map