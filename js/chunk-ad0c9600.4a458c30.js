(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad0c9600"],{"11c7":function(t,a,s){"use strict";var e=s("9f29"),i=s.n(e);i.a},"741d":function(t,a,s){},"86c2":function(t,a,s){t.exports=s.p+"img/user.0f8e789e.jpg"},"94c8":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pelanggan"},[e("vx-card",{staticClass:"mt-5"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"w-40"},[e("vs-button",{staticClass:"p-2",attrs:{color:"success",type:"filled","icon-pack":"feather",icon:"icon-user","icon-before":""},on:{click:function(a){return t.addPelanggan()}}},[t._v("Pelanggan")])],1),e("div",{staticClass:"w-40 mx-2"},[e("vs-button",{staticClass:"p-2",attrs:{color:"rgb(0,207,232)",type:"filled","icon-pack":"feather",icon:"icon-clock","icon-before":""},on:{click:function(a){return t.addhistoryPesanan()}}},[t._v("History Pesanan")])],1),e("div",{staticClass:"w-40"},[e("vs-button",{staticClass:"p-2",attrs:{color:"primary",type:"filled","icon-pack":"feather",icon:"icon-send","icon-before":""},on:{click:function(a){return t.listTemplateWhatsApp()}}},[t._v("Template WhatsApp")])],1)]),e("vs-table",{staticClass:"element",attrs:{data:t.pelanggan,search:"",pagination:"","max-items":"10"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,(function(a,s){return e("vs-tr",{key:s,attrs:{data:a}},[e("vs-td",{attrs:{data:a.title,width:"80px"}},[t._v(" "+t._s(a.title)+" ")]),e("vs-td",{attrs:{data:a.nama}},[t._v(" "+t._s(a.nama)+" ")]),e("vs-td",{attrs:{data:a.rumah}},[t._v(" "+t._s(a.rumah)+" ")]),e("vs-td",{attrs:{data:a.kantor}},[t._v(" "+t._s(a.kantor)+" ")]),e("vs-td",{attrs:{data:a.catatan}},[t._v(" "+t._s(a.catatan)+" ")]),e("vs-td",{attrs:{width:"95px"}},[e("div",{staticClass:"flex"},[e("div",{staticClass:"w-1/3"},[e("vx-tooltip",{attrs:{text:"Ubah Pelanggan"}},[e("vs-button",{attrs:{color:"rgb(0,207,232)",type:"filled",size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(s){return t.editPelanggan(a.kode)}}})],1)],1),e("div",{staticClass:"w-1/3 mx-1"},[e("vx-tooltip",{attrs:{text:"Pesanan"}},[e("router-link",{attrs:{to:"/pesanan/"+a.kode+"/"+t.generateSlug(a.nama)}},[e("vs-button",{attrs:{color:"primary",type:"filled",size:"small","icon-pack":"feather",icon:"icon-shopping-bag"}})],1)],1)],1),e("div",{staticClass:"w-1/3"},[e("vx-tooltip",{attrs:{text:"WhatsApp"}},[e("vs-button",{attrs:{color:"success",type:"filled",size:"small","icon-pack":"feather",icon:"icon-send"},on:{click:function(s){t.addMesaage(a.title,a.nama,t.formatPhoneNumber(a.wa))}}})],1)],1)])])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"title"}},[e("div",{staticClass:"custom-th"},[t._v("Title")])]),e("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"nama"}},[e("div",{staticClass:"custom-th"},[t._v("Nama")])]),e("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"rumeh"}},[e("div",{staticClass:"custom-th"},[t._v("Rumah")])]),e("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"kantor"}},[e("div",{staticClass:"custom-th"},[t._v("Kantor")])]),e("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"catatan"}},[e("div",{staticClass:"custom-th"},[t._v("Catatan")])]),e("vs-th",{staticClass:"bg-primary text-white text-center"},[e("div",{staticClass:"custom-th"},[t._v("Aksi")])])],1)],2)],1),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Tambah Pelanggan",active:t.modaladdPelanggan},on:{"update:active":function(a){t.modaladdPelanggan=a}}},[e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Title")]),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-validate-on":"blur","data-vv-name":"form.title",placeholder:"-- Pilih --",options:t.title},model:{value:t.form.title,callback:function(a){t.$set(t.form,"title",a)},expression:"form.title"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"Nama","data-vv-validate-on":"blur","data-vv-name":"form.nama"},model:{value:t.form.nama,callback:function(a){t.$set(t.form,"nama",a)},expression:"form.nama"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"number",label:"WhatsApp","data-vv-validate-on":"blur","data-vv-name":"form.wa"},model:{value:t.form.wa,callback:function(a){t.$set(t.form,"wa",a)},expression:"form.wa"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Rumah","data-vv-validate-on":"blur","data-vv-name":"form.rumah"},model:{value:t.form.rumah,callback:function(a){t.$set(t.form,"rumah",a)},expression:"form.rumah"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Kantor","data-vv-validate-on":"blur","data-vv-name":"form.kantor"},model:{value:t.form.kantor,callback:function(a){t.$set(t.form,"kantor",a)},expression:"form.kantor"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Catatan")]),e("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"data-vv-validate-on":"blur","data-vv-name":"form.catatan"},model:{value:t.form.catatan,callback:function(a){t.$set(t.form,"catatan",a)},expression:"form.catatan"}})],1)]),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full text-right"},[e("vs-button",{staticClass:"mr-3 mb-2",attrs:{disabled:!t.validateForm,color:"success"},on:{click:function(a){return t.addData()}}},[t._v("Simpan")])],1)])]),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Ubah Pelanggan",active:t.modaleditPelanggan},on:{"update:active":function(a){t.modaleditPelanggan=a}}},[e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Title")]),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-validate-on":"blur","data-vv-name":"form.title",placeholder:"-- Pilih --",options:t.title},model:{value:t.form.title,callback:function(a){t.$set(t.form,"title",a)},expression:"form.title"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"Nama","data-vv-validate-on":"blur","data-vv-name":"form.nama"},model:{value:t.form.nama,callback:function(a){t.$set(t.form,"nama",a)},expression:"form.nama"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"number",disabled:"",label:"WhatsApp","data-vv-validate-on":"blur","data-vv-name":"form.wa"},model:{value:t.form.wa,callback:function(a){t.$set(t.form,"wa",a)},expression:"form.wa"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Rumah","data-vv-validate-on":"blur","data-vv-name":"form.rumah"},model:{value:t.form.rumah,callback:function(a){t.$set(t.form,"rumah",a)},expression:"form.rumah"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Kantor","data-vv-validate-on":"blur","data-vv-name":"form.kantor"},model:{value:t.form.kantor,callback:function(a){t.$set(t.form,"kantor",a)},expression:"form.kantor"}})],1)]),e("div",{staticClass:"vx-row mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Catatan")]),e("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"data-vv-validate-on":"blur","data-vv-name":"form.catatan"},model:{value:t.form.catatan,callback:function(a){t.$set(t.form,"catatan",a)},expression:"form.catatan"}})],1)]),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full text-right"},[e("vs-button",{staticClass:"mr-3 mb-2",attrs:{disabled:!t.validateForm,color:"success"},on:{click:function(a){return t.updateData()}}},[t._v("Simpan")])],1)])]),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Tambah Template WhatasApp",active:t.modaladdTemplateWhatsApp},on:{"update:active":function(a){t.modaladdTemplateWhatsApp=a}}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full mb-4"},[e("vs-input",{staticClass:"w-full",attrs:{label:"Title"},model:{value:t.formSendWhatsApp.title,callback:function(a){t.$set(t.formSendWhatsApp,"title",a)},expression:"formSendWhatsApp.title"}})],1),e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Narasi")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formSendWhatsApp.content,expression:"formSendWhatsApp.content"}],staticClass:"vs-con-textarea vs-textarea",attrs:{rows:"8"},domProps:{value:t.formSendWhatsApp.content},on:{input:function(a){a.target.composing||t.$set(t.formSendWhatsApp,"content",a.target.value)}}})])]),e("div",{staticClass:"flex mb-3"},[e("div",{staticClass:"w-5/6"},t._l(t.templateContentWhatsApp,(function(a,s){return e("vs-button",{key:s,staticClass:"mr-2",staticStyle:{"border-radius":"50px"},attrs:{size:"small",type:"border",color:"primary"},on:{click:function(s){return t.editContentMessage(a)}}},[t._v(t._s(a))])})),1),e("div",{staticClass:"w-1/6 relative"},[e("vs-button",{staticClass:"absolute top-0 right-0",attrs:{color:"success"},on:{click:t.saveTemplateWhatsApp}},[t._v("Simpan")])],1)])]),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Ubah Template WhatasApp",active:t.modaleditTemplateWhatsApp},on:{"update:active":function(a){t.modaleditTemplateWhatsApp=a}}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full mb-4"},[e("vs-input",{staticClass:"w-full",attrs:{disabled:"",label:"Title"},model:{value:t.formSendWhatsApp.title,callback:function(a){t.$set(t.formSendWhatsApp,"title",a)},expression:"formSendWhatsApp.title"}})],1),e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"ml-1 font-bold"},[t._v("Narasi")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formSendWhatsApp.content,expression:"formSendWhatsApp.content"}],staticClass:"vs-con-textarea vs-textarea",attrs:{rows:"8"},domProps:{value:t.formSendWhatsApp.content},on:{input:function(a){a.target.composing||t.$set(t.formSendWhatsApp,"content",a.target.value)}}})])]),e("div",{staticClass:"flex mb-3"},[e("div",{staticClass:"w-5/6"},t._l(t.templateContentWhatsApp,(function(a,s){return e("vs-button",{key:s,staticClass:"mr-2",staticStyle:{"border-radius":"50px"},attrs:{size:"small",type:"border",color:"primary"},on:{click:function(s){return t.editContentMessage(a)}}},[t._v(t._s(a))])})),1),e("div",{staticClass:"w-1/6 relative"},[e("vs-button",{staticClass:"absolute top-0 right-0",attrs:{color:"success"},on:{click:t.updateTemplateWhatsApp}},[t._v("Simpan")])],1)])]),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Template WhatasApp",active:t.modallistTemplateWhatasApp},on:{"update:active":function(a){t.modallistTemplateWhatasApp=a}}},[e("div",{staticClass:"flex mb-8"},[e("div",{staticClass:"w-2/3"},[e("span",[t._v("List Template WhatsApp")])]),e("div",{staticClass:"w-1/3 relative"},[e("vs-button",{staticClass:"absolute top-0 right-0 p-2",attrs:{color:"success",type:"filled","icon-pack":"feather",icon:"icon-plus-circle","icon-before":""},on:{click:function(a){return t.addTemplateWhatsApp()}}},[t._v("Tambah")])],1)]),t._l(t.templateWhatsApp,(function(a,s){return e("vx-card",{key:s,staticClass:"mb-3"},[e("div",{staticClass:"grid grid-cols-3 gap-4"},[e("div",{staticClass:"col-span-2"},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"vs-list--title"},[t._v(t._s(a.title))]),e("div",{staticClass:"vs-list--subtitle"},[t._v(t._s(a.narasi))])])]),e("div",{staticClass:"col-span-1"},[e("div",{staticClass:"flex my-1 float-right"},[e("div",{staticClass:"w-10"},[e("vx-tooltip",{attrs:{text:"Ubah Template"}},[e("vs-button",{attrs:{color:"rgb(0,207,232)",type:"filled",size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(s){return t.editTemplateWhatsApp(a.title)}}})],1)],1),e("div",{staticClass:"w-10"},[e("vx-tooltip",{attrs:{text:"Hapus Template"}},[e("vs-button",{attrs:{color:"danger",type:"filled",size:"small","icon-pack":"feather",icon:"icon-trash"},on:{click:function(s){return t.removeTemplateWhatsApp(a.title)}}})],1)],1)])])])])}))],2),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Tampilan Pesan",active:t.modalPreviewMessage},on:{"update:active":function(a){t.modalPreviewMessage=a}}},[e("div",{staticClass:"page mb-base"},[e("div",{staticClass:"marvel-device"},[e("div",{staticClass:"top-bar"}),e("div",{staticClass:"sleep"}),e("div",{staticClass:"volume"}),e("div",{staticClass:"camera"}),e("div",{staticClass:"screen"},[e("div",{staticClass:"screen-container"},[e("div",{staticClass:"chat"},[e("div",{staticClass:"chat-container"},[e("div",{staticClass:"user-bar"},[e("div",{staticClass:"back"},[e("i",{staticClass:"zmdi zmdi-arrow-left"})]),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:s("86c2"),alt:"Avatar"}})]),e("div",{staticClass:"name"},[e("span",[t._v(t._s(t.formSendWhatsApp.nama))]),e("span",{staticClass:"status"},[t._v("online")])]),e("div",{staticClass:"actions more"},[e("i",{staticClass:"material-icons"},[t._v("phone")])])]),e("div",{staticClass:"conversation"},[e("div",{staticClass:"conversation-container"},[e("div",{staticClass:"message sent"},[t._v(" "+t._s(this.formSendWhatsApp.content)+" "),e("span",{staticClass:"metadata"},[e("span",{staticClass:"time"}),e("span",{staticClass:"tick"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",id:"msg-dblcheck-ack",x:"2063",y:"2076"}},[e("path",{attrs:{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.88a.32.32 0 0 1-.484.032l-.358-.325a.32.32 0 0 0-.484.032l-.378.48a.418.418 0 0 0 .036.54l1.32 1.267a.32.32 0 0 0 .484-.034l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.88a.32.32 0 0 1-.484.032L1.892 7.77a.366.366 0 0 0-.516.005l-.423.433a.364.364 0 0 0 .006.514l3.255 3.185a.32.32 0 0 0 .484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4fc3f7"}})])])])])]),e("div",{staticClass:"conversation-compose pb-2"},[e("div",{staticClass:"emoji"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",id:"smiley",x:"3147",y:"3209"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.153 11.603c.795 0 1.44-.88 1.44-1.962s-.645-1.96-1.44-1.96c-.795 0-1.44.88-1.44 1.96s.645 1.965 1.44 1.965zM5.95 12.965c-.027-.307-.132 5.218 6.062 5.55 6.066-.25 6.066-5.55 6.066-5.55-6.078 1.416-12.13 0-12.13 0zm11.362 1.108s-.67 1.96-5.05 1.96c-3.506 0-5.39-1.165-5.608-1.96 0 0 5.912 1.055 10.658 0zM11.804 1.01C5.61 1.01.978 6.034.978 12.23s4.826 10.76 11.02 10.76S23.02 18.424 23.02 12.23c0-6.197-5.02-11.22-11.216-11.22zM12 21.355c-5.273 0-9.38-3.886-9.38-9.16 0-5.272 3.94-9.547 9.214-9.547a9.548 9.548 0 0 1 9.548 9.548c0 5.272-4.11 9.16-9.382 9.16zm3.108-9.75c.795 0 1.44-.88 1.44-1.963s-.645-1.96-1.44-1.96c-.795 0-1.44.878-1.44 1.96s.645 1.963 1.44 1.963z",fill:"#7d8489"}})])]),e("input",{staticClass:"input-msg",attrs:{name:"input",placeholder:"Type a message",autocomplete:"off",autofocus:""}}),e("div",{staticClass:"photo"},[e("i",{staticClass:"material-icons"},[t._v("camera")])]),e("button",{staticClass:"send"},[e("div",{staticClass:"circle"},[e("i",{staticClass:"material-icons"},[t._v("send")])])])])])])])])])])]),e("div",{staticClass:"w-full text-right"},[e("vs-button",{attrs:{color:"success"},on:{click:function(a){return t.sendMessage()}}},[t._v("Kirim")])],1)]),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Pilih Pesan",active:t.modalMessage},on:{"update:active":function(a){t.modalMessage=a}}},[e("vs-input",{staticClass:"inputx w-full mb-5",attrs:{placeholder:"Cari Template Pesan"},on:{input:t.filterTemplateWhatsApp},model:{value:t.searchTemplatePesan,callback:function(a){t.searchTemplatePesan=a},expression:"searchTemplatePesan"}}),t._l(t.filteredTemplateWhatsApp,(function(a,s){return e("vx-card",{key:s,staticClass:"mb-3",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.previewMessage(a)}}},[e("div",{staticClass:"vs-list--title"},[t._v(t._s(a.title))]),e("div",{staticClass:"vs-list--subtitle"},[t._v(t._s(a.narasi))])])}))],2),e("vs-popup",{staticClass:"holamundo",attrs:{title:"Detail History Pesanan",active:t.modaldetailHistoryPesanan},on:{"update:active":function(a){t.modaldetailHistoryPesanan=a}}},[e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("Nama")])]),e("div",{staticClass:"col-span-2"},[e("h6",[t._v(": "+t._s(t.formdetailHistory.nama))])])]),e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("Jenis")])]),e("div",{staticClass:"col-span-2"},[e("h6",[t._v(": "+t._s(t.formdetailHistory.tipe))])])]),e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("WhatsApp")])]),e("div",{staticClass:"col-span-2"},[e("h6",{staticClass:"inline"},[t._v(": ")]),e("vs-button",{staticClass:"inline",attrs:{color:"success",size:"small",type:"filled"},on:{click:function(a){t.addMesaage("",t.formdetailHistory.nama,t.formatPhoneNumber(t.formdetailHistory.wa))}}},[t._v("Klik Chat")])],1)]),e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("Tanggal Pesan")])]),e("div",{staticClass:"col-span-2"},[e("h6",[t._v(": "+t._s(t.formatDateView(t.formdetailHistory.tanggal_pesan)))])])]),e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("Tanggal Ambil")])]),e("div",{staticClass:"col-span-2"},[e("h6",[t._v(": "+t._s(t.formatDateView(t.formdetailHistory.tanggal_ambil)))])])]),e("div",{staticClass:"grid grid-cols-3 gap-4 mb-4"},[e("div",{staticClass:"col-span-1"},[e("small",{staticClass:"font-bold"},[t._v("Total")])]),e("div",{staticClass:"col-span-2"},[e("h6",[t._v(": Rp "+t._s(t.currency(t.formdetailHistory.total)))])])])]),e("vs-popup",{staticClass:"holamundo",attrs:{fullscreen:"",title:"History Pesanan",active:t.modalHistoryPesanan},on:{"update:active":function(a){t.modalHistoryPesanan=a}}},[e("div",{staticClass:"md:flex mb-3"},[e("div",{staticClass:"lg:w-1/6 mt-4 md:mt-0"},[e("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih Bulan --",minimumView:"month",maximumView:"month",format:"MMM yyyy"},model:{value:t.formHistoryPesanan.bulan,callback:function(a){t.$set(t.formHistoryPesanan,"bulan",a)},expression:"formHistoryPesanan.bulan"}})],1),e("div",{staticClass:"lg:w-1/6 mt-4 md:mt-0 md:ml-4"},[e("vs-button",{attrs:{disabled:!t.validateHistoryPesanan,radius:"",color:"primary",icon:"search"},on:{click:function(a){return t.loadDataHistoryPesanan()}}})],1)]),e("FullCalendar",{ref:"calendar",attrs:{options:t.calendarOptions}})],1)],1)},i=[],l=(s("f559"),s("6b54"),s("a481"),s("6762"),s("2fdb"),s("f576"),s("c1df")),n=s.n(l),o=s("fa33"),r=(s("9992"),s("c18d")),c=s("7516"),d=s("3cdb"),m=s("4505"),p=s("3cd6"),v=(s("5038"),{data:function(){return{pelanggan:[],historyPesanan:[],title:["Bapak","Ibu","Kakak"],templateWhatsApp:[],templateContentWhatsApp:["title","name"],modaladdPelanggan:!1,modaleditPelanggan:!1,modalHistoryPesanan:!1,modaldetailHistoryPesanan:!1,modallistTemplateWhatasApp:!1,modaladdTemplateWhatsApp:!1,modaleditTemplateWhatsApp:!1,modalMessage:!1,modalPreviewMessage:!1,searchTemplatePesan:"",filteredTemplateWhatsApp:[],form:{kode:"",title:"",nama:"",rumah:"",kantor:"",wa:"",catatan:""},formHistoryPesanan:{bulan:""},formSendWhatsApp:{nama_panggilan:"",nama:"",hp:"",title:"",content:""},formdetailHistory:{nama:"",tipe:"",wa:"",tanggal_pesan:"",tanggal_ambil:"",total:""},calendarOptions:{plugins:[d["a"],m["a"]],initialView:"dayGridMonth",locale:p["a"],height:700,eventClick:this.handleEventClick,initialDate:new Date,events:[]}}},components:{Datepicker:o["a"],introJs:r["a"],FullCalendar:c["a"]},computed:{validateForm:function(){return!this.errors.any()&&""!=this.form.title&&""!=this.form.nama&&""!=this.form.wa&&""!=this.form.catatan},validateHistoryPesanan:function(){return!this.errors.any()&&""!=this.formHistoryPesanan.bulan}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.$vs.loading(),this.$http.get("pos/pelanggan/getData").then((function(a){t.pelanggan=a.data.message})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},loadTemplateWhatsApp:function(){var t=this;this.$vs.loading(),this.$http.get("pos/chat/template").then((function(a){t.templateWhatsApp=a.data.message,t.filteredTemplateWhatsApp=t.templateWhatsApp})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},loadDataHistoryPesanan:function(){var t=this,a=new Date(this.formHistoryPesanan.bulan),s=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");this.$vs.loading(),this.$http.get("pos/pesanan/getData/"+"".concat(s,"-").concat(e)).then((function(a){t.historyPesanan=a.data.message,t.$refs.calendar.getApi().gotoDate("".concat(s,"-").concat(e,"-").concat(i)),t.calendarOptions.events=t.transformDataForCalendar(t.historyPesanan)})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},transformDataForCalendar:function(t){return t.map((function(t){return{nama:t.nama,wa:t.wa,tipe:t.tipe,tanggal_pesan:t.tanggal_pesan,tanggal_ambil:t.tanggal_ambil,total:t.total,title:"".concat(t.nama," - ").concat(t.tipe),start:t.tanggal_pesan}}))},handleEventClick:function(t){this.modaldetailHistoryPesanan=!0,this.formdetailHistory.nama=t.event.extendedProps.nama,this.formdetailHistory.tipe=t.event.extendedProps.tipe,this.formdetailHistory.wa=t.event.extendedProps.wa,this.formdetailHistory.tanggal_pesan=t.event.extendedProps.tanggal_pesan,this.formdetailHistory.tanggal_ambil=t.event.extendedProps.tanggal_ambil,this.formdetailHistory.total=t.event.extendedProps.total},addPelanggan:function(){this.modaladdPelanggan=!0,this.form.title="",this.form.nama="",this.form.wa="",this.form.rumah="",this.form.kantor="",this.form.catatan=""},editPelanggan:function(t){this.modaleditPelanggan=!0;var a=this.pelanggan.filter((function(a){return a.kode.includes(t)}));this.form.kode=a[0].kode,this.form.title=a[0].title,this.form.nama=a[0].nama,this.form.rumah=a[0].rumah,this.form.kantor=a[0].kantor,this.form.wa=a[0].wa,this.form.catatan=a[0].catatan},addMesaage:function(t,a,s){this.modalMessage=!0,this.formSendWhatsApp.nama_panggilan=t,this.formSendWhatsApp.nama=a,this.formSendWhatsApp.hp=s,this.searchTemplatePesan="",this.loadTemplateWhatsApp()},previewMessage:function(t){this.modalPreviewMessage=!0;var a=t.narasi.replace("[title]",this.formSendWhatsApp.nama_panggilan).replace("[name]",this.formSendWhatsApp.nama);this.formSendWhatsApp.content=a},sendMessage:function(){var t="https://wa.me/".concat(this.formSendWhatsApp.hp,"?text=").concat(encodeURI(this.formSendWhatsApp.content)),a=window.open(t,"_blank");a.focus(),this.modalPreviewMessage=!1},listTemplateWhatsApp:function(){this.modallistTemplateWhatasApp=!0,this.loadTemplateWhatsApp()},addTemplateWhatsApp:function(){this.modaladdTemplateWhatsApp=!0,this.formSendWhatsApp.content=""},editTemplateWhatsApp:function(t){this.modaleditTemplateWhatsApp=!0,this.formSendWhatsApp.title="",this.formSendWhatsApp.content="";var a=this.templateWhatsApp.filter((function(a){return a.title.includes(t)}));this.formSendWhatsApp.title=a[0].title,this.formSendWhatsApp.content=a[0].narasi},removeTemplateWhatsApp:function(t){var a=this;this.$swal.fire({title:"Apakah Anda Yakin ?",text:"Ingin Menghapus Data Template WhatsApp",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya"}).then((function(s){s.value&&(a.$vs.loading(),a.$http.delete("pos/chat/template/"+encodeURI(t)).then((function(t){"SUKSES"==t.data.status?a.$swal.fire({title:"Success!",text:t.data.message,icon:"success",timer:3e3,showConfirmButton:!1}).then((function(){a.loadTemplateWhatsApp()})):a.$swal.fire("Gagal !",t.data.message,"error")})).catch((function(t){a.$vs.loading.close(),a.$swal.fire("Gagal !",t.response.data.message,"error")})).finally((function(){a.$vs.loading.close()})))}))},updateTemplateWhatsApp:function(){var t=this;this.$vs.loading();var a={title:this.formSendWhatsApp.title,narasi:this.formSendWhatsApp.content};this.$http.post("pos/chat/template/update",a).then((function(a){"SUKSES"==a.data.status?(t.modaleditTemplateWhatsApp=!1,t.formSendWhatsApp.title="",t.formSendWhatsApp.content="",t.$swal.fire({title:"Success!",text:a.data.message,icon:"success",timer:3e3,showConfirmButton:!1}).then((function(){t.loadTemplateWhatsApp()}))):t.$swal.fire("Gagal !",a.data.message,"error")})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},saveTemplateWhatsApp:function(){var t=this;this.$vs.loading();var a={title:this.formSendWhatsApp.title,narasi:this.formSendWhatsApp.content};this.$http.post("pos/chat/template/add",a).then((function(a){"SUKSES"==a.data.status?(t.modaladdTemplateWhatsApp=!1,t.formSendWhatsApp.title="",t.formSendWhatsApp.content="",t.$swal.fire({title:"Success!",text:a.data.message,icon:"success",timer:3e3,showConfirmButton:!1}).then((function(){t.loadTemplateWhatsApp()}))):t.$swal.fire("Gagal !",a.data.message,"error")})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},editContentMessage:function(t){this.formSendWhatsApp.content=this.formSendWhatsApp.content+" ["+t+"]",this.formSendWhatsApp.content=this.formSendWhatsApp.content.trim()},filterTemplateWhatsApp:function(){var t=this.searchTemplatePesan.toLowerCase();this.filteredTemplateWhatsApp=this.templateWhatsApp.filter((function(a){return a.title.toLowerCase().includes(t)||a.narasi.toLowerCase().includes(t)}))},addData:function(){var t=this;this.$vs.loading();var a={title:this.form.title,nama:this.form.nama,rumah:this.form.rumah,wa:this.form.wa,kantor:this.form.kantor,catatan:this.form.catatan};this.$http.post("pos/pelanggan/addData",a).then((function(a){"SUKSES"==a.data.status?(t.modaladdPelanggan=!1,t.form.title="",t.form.nama="",t.form.rumah="",t.form.kantor="",t.form.wa="",t.form.catatan="",t.$swal.fire({title:"Success!",text:a.data.message,icon:"success",timer:3e3,showConfirmButton:!1}).then((function(){t.loadData()}))):t.$swal.fire("Gagal !",a.data.message,"error")})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},updateData:function(){var t=this;this.$vs.loading();var a={kode:this.form.kode,title:this.form.title,nama:this.form.nama,wa:this.form.wa,rumah:this.form.rumah,kantor:this.form.kantor,catatan:this.form.catatan};this.$http.post("pos/pelanggan/updateData",a).then((function(a){"SUKSES"==a.data.status?(t.modaleditPelanggan=!1,t.$swal.fire({title:"Success!",text:a.data.message,icon:"success",timer:3e3,showConfirmButton:!1}).then((function(){t.loadData()}))):t.$swal.fire("Gagal !",a.data.message,"error")})).catch((function(a){t.$vs.loading.close(),t.$swal.fire("Gagal !",a.response.data.message,"error")})).finally((function(){t.$vs.loading.close()}))},addhistoryPesanan:function(){this.modalHistoryPesanan=!0,this.formHistoryPesanan.bulan="",this.historyPesanan=[],this.formHistoryPesanan.bulan=new Date,this.loadDataHistoryPesanan()},generateSlug:function(t){return t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")},currency:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formatDateView:function(t){return n.a.locale("id"),n()(t).format("DD MMMM YYYY")},formattedDate:function(t){var a=new Date(t),s=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return"".concat(s,"-").concat(e,"-").concat(i)},formatPhoneNumber:function(t){return t.startsWith("0")?"62"+t.substr(1):t}}}),u=v,f=(s("11c7"),s("c652"),s("2877")),h=Object(f["a"])(u,e,i,!1,null,"3cf919a9",null);a["default"]=h.exports},"9f29":function(t,a,s){},c652:function(t,a,s){"use strict";var e=s("741d"),i=s.n(e);i.a},f559:function(t,a,s){"use strict";var e=s("5ca1"),i=s("9def"),l=s("d2c8"),n="startsWith",o=""[n];e(e.P+e.F*s("5147")(n),"String",{startsWith:function(t){var a=l(this,t,n),s=i(Math.min(arguments.length>1?arguments[1]:void 0,a.length)),e=String(t);return o?o.call(a,e,s):a.slice(s,s+e.length)===e}})}}]);
//# sourceMappingURL=chunk-ad0c9600.4a458c30.js.map