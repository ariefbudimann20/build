(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4c62e40"],{"3c87":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"order"},[e("vx-card",[e("div",{staticClass:"flex"},[e("div",{staticClass:"w-1/4 mx-2"},[e("input",{ref:"file",staticStyle:{width:"250px"},attrs:{type:"file",id:"file"},on:{change:function(a){return t.handleFileUpload()}}})]),e("div",{staticClass:"w-1/4 mx-2"},[e("vs-button",{attrs:{color:"primary"},on:{click:function(a){return t.submitFile()}}},[t._v("Preview")])],1)])]),e("vx-card",{directives:[{name:"show",rawName:"v-show",value:t.dataUpload.length>0,expression:"dataUpload.length > 0"}],staticClass:"my-5"},[e("div",{staticClass:"tab text-center"},t._l(t.dataUpload,(function(a,s){return e("button",{key:s,class:t.tabs==s?"active":"tablinks",on:{click:function(a){return t.showContent(s)}}},[t._v(t._s(a))])})),0),t._l(t.dataUploadIsi,(function(a,s){return e("div",{key:s},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tabs==s,expression:"tabs == index"}],staticClass:"tablinks",staticStyle:{}},t._l(t.dataUploadIsi,(function(a,s){return e("div",{key:s},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tabs==s,expression:"tabs == index"}],staticClass:"table-wrapper mt-5"},[e("table",[e("thead",[e("tr",[e("th",[t._v("Kategori")]),e("th",[t._v("Produk")]),e("th",[t._v("Qty")]),e("th",[t._v("Satuan")]),e("th",[t._v("Keterangan")]),e("th",[t._v("Aksi")])])]),e("tbody",t._l(t.dataUploadIsi[s].isi,(function(s,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[t._v(t._s(s.kategori))]),e("td",[t._v(t._s(s.produk))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.qty))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.satuan))]),e("td",[t._v(t._s(s.keterangan))]),e("td",{staticClass:"text-center"},[s.qty>0?e("vs-button",{attrs:{color:t.getQtyItem(s.produk).length>0?"primary":"success",size:"small"},on:{click:function(e){return t.showPopupPT(a.kacab,a.store,a.tglKirim,s.produk,s.qty)}}},[t._v("Pilih CV / PT")]):e("vs-button",{attrs:{disabled:"",color:"success",size:"small"}},[t._v("Pilih CV / PT")])],1)])})),0)])])])})),0)])}))],2),e("vs-popup",{attrs:{classContent:"popup-example",title:"Form Pengisian",active:t.showOption},on:{"update:active":function(a){t.showOption=a}}},[e("table",{staticClass:"mb-20"},[e("thead",[e("tr",[e("th",{staticStyle:{height:"50px",width:"10px"}},[t._v("Toko")]),e("td",{staticStyle:{width:"200px"}},[t._v(t._s(t.dataExcel.store))]),e("td",{staticStyle:{width:"200px"}},[e("v-select",{staticStyle:{width:"250px"},attrs:{"data-vv-validate-on":"blur",label:"nama",placeholder:"-- Pilih --",options:t.optionStore},model:{value:t.storeSelected,callback:function(a){t.storeSelected=a},expression:"storeSelected"}})],1)]),e("tr",[e("th",{staticStyle:{height:"50px",width:"10px"}},[t._v("Kacab")]),e("td",{staticStyle:{width:"200px"}},[t._v(t._s(t.dataExcel.kacab))]),e("td",{staticStyle:{width:"200px"}},[e("v-select",{staticStyle:{width:"250px"},attrs:{"data-vv-validate-on":"blur",label:"nama",placeholder:"-- Pilih --",options:t.optionKacab},model:{value:t.kacabSelected,callback:function(a){t.kacabSelected=a},expression:"kacabSelected"}})],1)]),e("tr",[e("th",{staticStyle:{height:"50px",width:"10px"}},[t._v("Tanggal")]),e("td",{staticStyle:{width:"200px"}},[t._v(t._s(t.dataExcel.tglKirim))]),e("td",{staticStyle:{width:"200px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tanggalSelected,expression:"tanggalSelected"}],attrs:{type:"date",name:"dateofbirth",id:"dateofbirth"},domProps:{value:t.tanggalSelected},on:{input:function(a){a.target.composing||(t.tanggalSelected=a.target.value)}}})])])])]),e("table",{staticClass:"mb-20"},[e("thead",[e("tr",[e("th",{staticStyle:{height:"50px",width:"10px"}},[t._v("Produk")]),e("td",{staticStyle:{width:"200px"}},[t._v(t._s(t.dataExcel.produk))]),e("td",{staticStyle:{width:"200px"}},[e("div",{staticClass:"inline-flex space-x-4"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.product.namaProduct>"",expression:"product.namaProduct > ''"}],staticClass:"flex-1 mr-2"},[e("span",{staticClass:"d-inline"},[t._v(t._s(t.product.namaProduct)+" - "+t._s(t.product.namaPT))])]),e("div",{staticClass:"flex-1"},[e("vs-button",{staticClass:"d-inline",attrs:{color:"primary",icon:"search",size:"small"},on:{click:function(a){t.showPopupProduct=!0}}})],1)])])]),e("tr",[e("th",{staticStyle:{height:"50px",width:"10px"}},[t._v("Qty")]),e("td",{staticStyle:{width:"200px"}},[t._v(t._s(t.dataExcel.qty))]),e("td",{staticClass:"text-center ml-6",staticStyle:{width:"200px"}},[e("vs-input-number",{staticClass:"w-1/3 ml-5",model:{value:t.qty,callback:function(a){t.qty=a},expression:"qty"}})],1)])])]),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full text-right"},[t.dataExcel.produk===t.updateBtn?e("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(a){return t.updateData(t.dataExcel.produk)}}},[t._v("Update")]):e("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success"},on:{click:function(a){return t.saveData(t.dataExcel.produk)}}},[t._v("Simpan")])],1)]),e("vs-popup",{attrs:{classContent:"popup-example",title:"Pilih Produk",active:t.showPopupProduct},on:{"update:active":function(a){t.showPopupProduct=a}}},[e("vs-input",{staticClass:"w-full ml-1 mb-8",attrs:{icon:"search",placeholder:"Cari Nama Product"},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}}),e("table",t._l(t.filteredItems,(function(a,s){return e("tr",{key:s},[e("td",{staticStyle:{width:"3px"}},[e("vs-radio",{staticClass:"text-center",attrs:{"vs-value":a},model:{value:t.product,callback:function(a){t.product=a},expression:"product"}})],1),e("td",{staticStyle:{width:"45%"}},[t._v(t._s(a.namaProduct))]),e("td",[t._v(t._s(a.namaPT))])])})),0)],1)],1)],1)},i=[],l=(e("20d6"),e("7f7f"),e("386d"),e("ac6a"),{name:"Order",data:function(){return{file:"",dataUpload:[],dataUploadIsi:[],dataExcel:{kacab:"",store:"",tglKirim:"",produk:"",qty:null},storeSelected:null,kacabSelected:null,tanggalSelected:null,product:{},qty:null,optionStore:[{kode:"IN ('113')",nama:"ABBAD BIN BISYIR"},{kode:"IN ('124')",nama:"ABBAS BIN ABDUL MUTHOLIB"},{kode:"IN ('94')",nama:"ABDUL MUTHOLIB"},{kode:"IN ('181')",nama:"ABDULLAH BIN ABBAS"},{kode:"IN ('97')",nama:"ABDULLAH BIN MASUD"},{kode:"IN ('281')",nama:"ABDULLAH BIN SALAM"},{kode:"IN ('123')",nama:"ABDULLAH BIN UMAR"},{kode:"IN ('342')",nama:"ABDULLAH BIN UMAR (MEDAN)"},{kode:"IN ('256')",nama:"ABDULLAH DG SIRUA"},{kode:"IN ('276')",nama:"ABDULLOH BIN ABDUL ASAD"},{kode:"IN ('169')",nama:"ABDULLOH BIN ZUBAIR"}],optionKacab:[{kode:"IN ('113')",nama:"SUYONO"},{kode:"IN ('124')",nama:"BUDI"},{kode:"IN ('94')",nama:"DODI"},{kode:"IN ('181')",nama:"DONI"},{kode:"IN ('97')",nama:"BEDU"},{kode:"IN ('281')",nama:"JONI"}],optionProduct:[{idPT:10,namaPT:"AFAKRUL WIJAYA",idProduct:13,namaProduct:"Ayam Reguler / Spicy"},{idPT:11,namaPT:"AYUMINDA BERKAH BERSAMA",idProduct:13,namaProduct:"Ayam Reguler / Spicy"},{idPT:12,namaPT:"AFAKRUL WIJAYA",idProduct:14,namaProduct:"Ayam Original"}],tabs:0,showOption:!1,showPopupProduct:!1,number:1,selected:[],search:"",storeData:[],pullData:[],updateBtn:""}},computed:{selectAll:{get:function(){return this.selected.length===this.optionProduct.length},set:function(t){var a=this;this.selected=[],t&&this.optionProduct.forEach((function(t){a.selected.push(t)}))}},filteredItems:function(){var t=this;return this.optionProduct.filter((function(a){return void 0!=a.namaProduct&&a.namaProduct.toLowerCase().indexOf(t.search.toLowerCase())>-1}))}},mounted:function(){if(localStorage.getItem("storeData"))try{this.pullData=JSON.parse(localStorage.getItem("storeData"))}catch(t){localStorage.removeItem("storeData")}},methods:{getQtyItem:function(t){var a=this.pullData.filter((function(a){return a.name===t}));return a},submitFile:function(){var t=this;this.$vs.loading();var a=new FormData;a.append("file",this.file),this.$http.post("http://117.53.47.96:1408/upload",a).then((function(a){"SUKSES"===a.data.status&&(t.dataUpload=a.data.message.sheet,t.dataUploadIsi=a.data.message.data)})).catch((function(a){t.$swal.fire("Oopss !",a,"error")})).finally((function(){t.$vs.loading.close()}))},handleFileUpload:function(){this.file=this.$refs.file.files[0]},showContent:function(t){this.tabs=t},showPopupPT:function(t,a,e,s,i){if(null===localStorage.getItem("storeData")||0===localStorage.getItem("storeData"))this.showOption=!0,this.dataExcel.kacab=t,this.dataExcel.store=a,this.dataExcel.tglKirim=e,this.dataExcel.produk=s,this.dataExcel.qty=i,this.qty=i;else{var l=this.pullData.findIndex((function(t){return t.name===s}));if(-1===l)this.showOption=!0,this.storeSelected=null,this.kacabSelected=null,this.tanggalSelected=null,this.dataExcel.kacab=t,this.dataExcel.store=a,this.dataExcel.tglKirim=e,this.dataExcel.produk=s,this.dataExcel.qty=i,this.product={},this.qty=i;else{var o=this.pullData.filter((function(t){return t.name===s}));this.showOption=!0,this.dataExcel.kacab=t,this.dataExcel.store=a,this.dataExcel.tglKirim=e,this.dataExcel.produk=s,this.dataExcel.qty=i,this.storeSelected=o[0].store,this.kacabSelected=o[0].kacab,this.tanggalSelected=o[0].tanggal,this.product=o[0].product,this.qty=o[0].qty,this.updateBtn=o[0].name}}},updateData:function(t){var a=this.pullData.findIndex((function(a){return a.name===t}));if(-1===a)this.showOption=!0,this.storeSelected=null,this.kacabSelected=null,this.tanggalSelected=null,this.product={},this.showOption=!1;else for(var e in this.pullData)if(this.pullData[e].name===t)return this.pullData[e].name=t,this.pullData[e].store=this.storeSelected,this.pullData[e].tanggal=this.tanggalSelected,this.pullData[e].product=this.product,this.pullData[e].qty=this.qty,localStorage.setItem("storeData",JSON.stringify(this.pullData)),void(this.showOption=!1)},saveData:function(t){var a={name:t,store:this.storeSelected,kacab:this.kacabSelected,tanggal:this.tanggalSelected,product:this.product,qty:this.qty};this.storeData.push(a),localStorage.setItem("storeData",JSON.stringify(this.storeData)),this.showOption=!1,this.pullData=JSON.parse(localStorage.getItem("storeData"))}}}),o=l,n=(e("f85b"),e("b21f"),e("2877")),c=Object(n["a"])(o,s,i,!1,null,null,null);a["default"]=c.exports},"84d2":function(t,a,e){},b21f:function(t,a,e){"use strict";var s=e("e7b9"),i=e.n(s);i.a},e7b9:function(t,a,e){},f85b:function(t,a,e){"use strict";var s=e("84d2"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-b4c62e40.3014fd5b.js.map