(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1183a25a"],{"504c":function(e,t,a){var r=a("0d58"),i=a("6821"),l=a("52a7").f;e.exports=function(e){return function(t){var a,s=i(t),n=r(s),o=n.length,c=0,d=[];while(o>c)l.call(s,a=n[c++])&&d.push(e?[a,s[a]]:s[a]);return d}}},"563e":function(e,t,a){"use strict";var r=a("af29"),i=a.n(r);i.a},8615:function(e,t,a){var r=a("5ca1"),i=a("504c")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},"8e6e":function(e,t,a){var r=a("5ca1"),i=a("990b"),l=a("6821"),s=a("11e9"),n=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,a,r=l(e),o=s.f,c=i(r),d={},u=0;while(c.length>u)a=o(r,t=c[u++]),void 0!==a&&n(d,t,a);return d}})},"990b":function(e,t,a){var r=a("9093"),i=a("2621"),l=a("cb7c"),s=a("7726").Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(l(e)),a=i.f;return a?t.concat(a(e)):t}},af29:function(e,t,a){},c92d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stok"},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"md:flex"},[a("div",{staticClass:"lg:w-1/6 mt-4 md:mt-0"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",options:e.pilihanA},on:{input:e.updatePilihan},model:{value:e.pilihanASelected,callback:function(t){e.pilihanASelected=t},expression:"pilihanASelected"}})],1),a("div",{staticClass:"lg:w-1/3 mt-4 md:mt-0 md:ml-6"},[a("v-select",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Pilih --",label:"nama",options:e.pilihanB},model:{value:e.pilihanBSelected,callback:function(t){e.pilihanBSelected=t},expression:"pilihanBSelected"}})],1),a("div",{staticClass:"lg:w-1/4 mt-4 md:mt-0 md:ml-6"},[a("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Tanggal Awal --",minimumView:"day",maximumView:"month",format:"dd MMM yyyy"},model:{value:e.selectedStart,callback:function(t){e.selectedStart=t},expression:"selectedStart"}})],1),a("div",{staticClass:"lg:w-1/4 mt-4 md:mt-0 md:ml-6"},[a("datepicker",{attrs:{"data-vv-validate-on":"blur",placeholder:"-- Tanggal Akhir --",minimumView:"day",maximumView:"month",format:"dd MMM yyyy"},model:{value:e.selectedEnd,callback:function(t){e.selectedEnd=t},expression:"selectedEnd"}})],1),a("div",{staticClass:"w-10 mt-4 md:mt-0 md:ml-6"},[a("vs-button",{staticStyle:{display:"inline","margin-right":"30px"},attrs:{disabled:!e.validateForm,radius:"",color:"primary",icon:"search"},on:{click:e.loadDataServer}})],1),a("div",{staticClass:"mt-4 md:mt-0 md:ml-6"},[a("vs-button",{staticClass:"py-2 px-3",attrs:{disabled:!e.validateForm,type:"border"},on:{click:function(t){return e.tableToExcelStore("tableStore","Tracking Sales")}}},[a("i",{staticClass:"feather icon-file-text"})])],1)])]),a("vx-card",{directives:[{name:"show",rawName:"v-show",value:e.card,expression:"card"}],staticClass:"mt-5"},[a("div",{staticClass:"table-wrapper"},[a("table",{ref:"myTable",staticClass:"fixed-column"},[a("thead",[a("tr",{staticClass:"text-center"},e._l(e.headers.filter((function(e){return"Not"!=e.label&&"Sales"!=e.label})),(function(t,r){return a("th",{key:r,staticClass:"kacab",class:t.label,attrs:{rowspan:t.rowspan,colspan:t.colspan}},[e._v(e._s(t.label))])})),0),a("tr",{staticClass:"text-center"},e._l(e.headers.filter((function(e){return"Not"==e.label||"Sales"==e.label})),(function(t,r){return a("th",{key:r,staticStyle:{"z-index":"0"},attrs:{rowspan:t.rowspan,colspan:t.colspan}},[e._v(e._s(t.label))])})),0)]),a("tbody",e._l(e.table,(function(t,r){return a("tr",{key:r,ref:0===r?"intro":null,refInFor:!0},e._l(t,(function(r,i){return a("td",{key:i,staticStyle:{height:"34px"},domProps:{innerHTML:e._s(r)},on:{click:function(a){e.loadGrafik(e.getItemValue(t))}}})})),0)})),0)]),a("table",{ref:"tableStore",attrs:{hidden:""}},[a("thead",[a("tr",{staticClass:"text-center"},e._l(e.headers.filter((function(e){return"Not"!=e.label&&"Sales"!=e.label})),(function(t,r){return a("th",{key:r,attrs:{rowspan:t.rowspan,colspan:t.colspan}},[e._v(e._s(t.label))])})),0),a("tr",{staticClass:"text-center"},e._l(e.headers.filter((function(e){return"Not"==e.label||"Sales"==e.label})),(function(t,r){return a("th",{key:r,attrs:{rowspan:t.rowspan,colspan:t.colspan}},[e._v(e._s(t.label))])})),0)]),a("tbody",e._l(e.excel,(function(t,r){return a("tr",{key:r},e._l(t,(function(t,r){return a("td",{key:r,staticStyle:{height:"34px"},domProps:{innerHTML:e._s(t)}})})),0)})),0)])])]),a("vs-popup",{attrs:{fullscreen:"",title:"Grafik Sales",active:e.popupActive},on:{"update:active":function(t){e.popupActive=t}}},[a("apexchart",{ref:"updateCharthourlySales",attrs:{height:"400",options:e.chartOptionshourlySales,series:e.seriesSales}}),a("apexchart",{ref:"updateCharthourlyNOT",attrs:{height:"400",options:e.chartOptionshourlyNOT,series:e.seriesNOT}})],1)],1)},i=[],l=(a("8e6e"),a("456d"),a("bd86")),s=(a("ac6a"),a("8615"),a("6b54"),a("a481"),a("c1df")),n=a.n(s),o=a("fa33"),c=a("1321"),d=a.n(c),u=(a("9992"),a("c18d"));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={data:function(){return{uri:"data:application/vnd.ms-excel;base64,",template:'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},format:function(e,t){return e.replace(/{(\w+)}/g,(function(e,a){return t[a]}))},pilihanA:["Region","Wilayah","Area","Cabang","Toko"],pilihanASelected:null,pilihanB:[],pilihanBSelected:null,selectedStart:null,selectedEnd:null,selectedMonth:new Date,excellStore:!0,sort:{key:"",isAsc:!1},headers:[],table:[],excel:[],chart:[],card:!1,popupActive:!1,chartOptionshourlySales:{chart:{height:350,type:"line"},stroke:{curve:"smooth",width:[3]},fill:{type:"solid",opacity:[1]},colors:["#008efb"],markers:{size:0},dataLabels:{enabled:!0,formatter:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},yaxis:[{title:{text:"SALES"}}],grid:{padding:{top:0,right:30,bottom:0,left:30}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(e,t){var a=t.series,r=t.seriesIndex,i=t.dataPointIndex;return a[r][i].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}},chartOptionshourlyNOT:{chart:{height:350,type:"line"},stroke:{curve:"smooth",width:[1,3]},fill:{type:"solid",opacity:[1,1]},colors:["#008efb","#EA5455"],markers:{size:0},dataLabels:{enabled:!0,enabledOnSeries:[1],formatter:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},yaxis:[{title:{text:"NOT"}},{opposite:!0,title:{text:"AVG"}}],grid:{padding:{top:0,right:30,bottom:0,left:30}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(e,t){var a=t.series,r=t.seriesIndex,i=t.dataPointIndex;return a[r][i].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}},seriesSales:[],seriesNOT:[]}},components:{Datepicker:o["a"],apexchart:d.a,introJs:u["a"]},computed:{validateForm:function(){return!this.errors.any()&&null!=this.pilihanBSelected&&null!=this.selectedStart&&null!=this.selectedEnd}},methods:{tableToExcelStore:function(e,t){e.nodeType||(e=this.$refs.tableStore);var a={worksheet:t||"Worksheet",table:e.innerHTML},r=t+"_"+n()(this.selectedStart).format("DD-MM-YYYY")+"_"+n()(this.selectedEnd).format("DD-MM-YYYY"),i=document.createElement("a");i.href=this.uri+this.base64(this.format(this.template,a)),i.download=r,i.click()},updatePilihan:function(e){var t=this;this.$vs.loading(),this.$http.get("toko/"+e).then((function(e){"OK"==e.data.status&&(t.pilihanB=e.data.message)})).catch((function(e){})),setTimeout((function(){t.$vs.loading.close()}),1e3)},getItemValue:function(e){return Object.values(e)[1]},loadDataServer:function(){var e=this;this.$vs.loading(),this.card=!1;var t={kode:this.pilihanBSelected.kode,nama:this.pilihanBSelected.nama,tgl_awal:btoa(this.selectedStart),tgl_akhir:btoa(this.selectedEnd)};this.$http.post("pos/dataSales2",t).then((function(t){if("SUKSES"==t.data.status){e.card=!0,e.headers=t.data.message.headers,e.table=t.data.message.table,e.excel=t.data.message.excel,e.chart=t.data.message.chart;var a=JSON.parse(localStorage.getItem("guide"));null!=a&&1==a.sales||e.$nextTick((function(){var t=e.$refs.myTable,a=t.querySelector("tbody"),r=a.querySelectorAll("tr");r.length>0&&e.startIntro()}))}else e.$swal.fire("Gagal !",t.data.message,"error")})).catch((function(e){})).finally((function(){e.$vs.loading.close()}))},loadGrafik:function(e){this.popupActive=!0,this.save_local();var t=this.headers.filter((function(e){return"Not"!=e.label&&"Sales"!=e.label})),a=t.map((function(e){return e.label}));a.splice(0,2);var r=this.excel.filter((function(t){return t[1]===e})),i=r.reduce((function(e,t){for(var a in t)e[a]=t[a];return e}),{});delete i["0"],delete i["1"];var l={};for(var s in i)s%2!=0&&(l[s]=i[s]);var n=Object.values(l);this.seriesSales=[{name:"SALES",type:"line",data:n}],this.$refs.updateCharthourlySales.updateSeries(this.seriesSales),this.$refs.updateCharthourlySales.updateOptions({xaxis:{categories:a}}),this.$refs.updateCharthourlySales.updateOptions({title:{text:"GERAI "+e}});var o=this.chart.filter((function(t){return t[1]===e})),c=o.reduce((function(e,t){for(var a in t)e[a]=t[a];return e}),{});delete c["0"],delete c["1"];var d={},u={};for(var h in c)h%2==0&&(d[h]=c[h]);for(var p in c)p%2!=0&&(u[p]=c[p]);var f=Object.values(d),m=Object.values(u);this.seriesNOT=[{name:"NOT",type:"column",data:f},{name:"AVG",type:"line",data:m}],this.$refs.updateCharthourlyNOT.updateSeries(this.seriesNOT),this.$refs.updateCharthourlyNOT.updateOptions({xaxis:{categories:a}}),this.$refs.updateCharthourlyNOT.updateOptions({title:{text:"GERAI "+e}})},startIntro:function(){var e=this;this.$nextTick((function(){var t=Object(u["a"])();t.setOptions({steps:e.table.map((function(t,a){if(0===a){var r="Grafik Sales",i='<p>Silahkan klik nama gerai untuk melihat Grafik Sales</p><br/><img src="https://res.cloudinary.com/dph9nrhmr/image/upload/c_scale,w_268/v1686211876/chart_bo8rki.png" alt="Image Description">',l="bottom-middle";return{element:e.$refs.intro[a],intro:i,title:r,position:l}}return null})).filter((function(e){return null!==e}))}),t.start()}))},save_local:function(){var e=JSON.parse(localStorage.getItem("guide")),t={sales:!0},a=p({},e,{},t);localStorage.setItem("guide",JSON.stringify(a))}}},m=f,b=(a("563e"),a("2877")),v=Object(b["a"])(m,r,i,!1,null,"ba513e74",null);t["default"]=v.exports},f1ae:function(e,t,a){"use strict";var r=a("86cc"),i=a("4630");e.exports=function(e,t,a){t in e?r.f(e,t,i(0,a)):e[t]=a}}}]);
//# sourceMappingURL=chunk-1183a25a.2096d963.js.map