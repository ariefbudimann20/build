(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ed3cbd"],{"9e93":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("vx-card",[s("vs-table",{attrs:{stripe:"",search:"",pagination:"","max-items":"10",data:a.wilayah},scopedSlots:a._u([{key:"default",fn:function(t){var e=t.data;return a._l(e,(function(t){return s("vs-tr",{key:t.kode},[s("vs-td",{attrs:{data:t.nama}},[a._v(" "+a._s(t.nama)+" ")]),s("vs-td",{staticClass:"text-center",attrs:{data:t.aksi}},[s("vx-tooltip",{attrs:{text:"Ubah Wilayah"}},[s("vs-button",{staticClass:"mr-1",staticStyle:{display:"inline"},attrs:{color:"warning",type:"filled",size:"small",icon:"create"},on:{click:function(s){return a.editData(t.kode,t.nama)}}})],1)],1)],1)}))}}])},[s("template",{staticClass:"mb-5",slot:"header"},[s("h1",{staticClass:"mr-2"},[a._v("Data Wilayah")]),s("vx-tooltip",{staticStyle:{display:"inline"},attrs:{text:"Tambah Wilayah"}},[s("vs-button",{attrs:{radius:"",icon:"create",color:"success",type:"flat",size:"large"},on:{click:a.btnAddWilayah}})],1)],1),s("template",{slot:"thead"},[s("vs-th",{staticClass:"bg-primary text-white",attrs:{"sort-key":"nama"}},[a._v(" Nama ")]),s("vs-th",{staticClass:"bg-primary text-white text-center",attrs:{"sort-key":"aksi",width:"100px"}},[s("p",{staticClass:"w-full"},[a._v("Aksi")])])],1)],2)],1),s("vs-popup",{staticClass:"holamundo",attrs:{title:"Tambah Wilayah",active:a.addNew},on:{"update:active":function(t){a.addNew=t}}},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"Nama Wilayah",name:"form.nama","data-vv-validate-on":"blur"},model:{value:a.form.nama,callback:function(t){a.$set(a.form,"nama",t)},expression:"form.nama"}})],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full text-right"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success",disabled:!a.validateFormAdd},on:{click:function(t){return a.addData()}}},[a._v("Simpan")])],1)])]),s("vs-popup",{staticClass:"holamundo",attrs:{title:"Edit Wilayah",active:a.Edit},on:{"update:active":function(t){a.Edit=t}}},[s("div",{staticClass:"vx-row mb-6"},[s("div",{staticClass:"vx-col w-full"},[s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{label:"Nama Wilayah",name:"form.nama","data-vv-validate-on":"blur"},model:{value:a.form.nama,callback:function(t){a.$set(a.form,"nama",t)},expression:"form.nama"}})],1)]),s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full text-right"},[s("vs-button",{staticClass:"mr-3 mb-2",attrs:{color:"success",disabled:!a.validateFormEdit},on:{click:function(t){return a.updateData(a.form.kode)}}},[a._v("Simpan")])],1)])])],1)},i=[],n={data:function(){return{publicPath:"/",addNew:!1,Edit:!1,wilayah:[],form:{kode:"",nama:""}}},computed:{validateFormAdd:function(){return!this.errors.any()&&""!=this.form.nama},validateFormEdit:function(){return!this.errors.any()&&""!=this.form.nama}},created:function(){this.loadData()},methods:{btnAddWilayah:function(){this.addNew=!0,this.form.nama=""},loadData:function(){var a=this;this.$http.get("agen/web/wilayah").then((function(t){a.wilayah=t.data.message})).catch((function(t){a.$swal.fire("Gagal !",t.response.data.message,"error")}))},addData:function(){var a=this;this.$vs.loading();var t={nama:this.form.nama};this.$http.post("agen/web/wilayah/create",t).then((function(t){"SUKSES"==t.data.status?(a.form.nama="",a.addNew=!1,a.$swal.fire({title:"Success",text:t.data.message,icon:"success"}).then((function(){a.loadData()}))):a.$swal.fire("Gagal !",t.data.message,"error")})).catch((function(t){a.$vs.loading.close(),a.$swal.fire("Gagal !",t.response.data.message,"error")})).finally((function(){a.$vs.loading.close()}))},editData:function(a,t){this.Edit=!0,this.form.kode=a,this.form.nama=t},updateData:function(){var a=this;this.$vs.loading();var t={kode:this.form.kode,nama:this.form.nama};this.$http.post("agen/web/wilayah/update",t).then((function(t){"SUKSES"==t.data.status?(a.form.nama="",a.Edit=!1,a.$swal.fire({title:"Success",text:t.data.message,icon:"success"}).then((function(){a.loadData()}))):a.$swal.fire("Gagal !",t.data.message,"error")})).catch((function(t){a.$vs.loading.close(),a.$swal.fire("Gagal !",t.response.data.message,"error")})).finally((function(){a.$vs.loading.close()}))}}},l=n,r=(s("c655"),s("2877")),o=Object(r["a"])(l,e,i,!1,null,null,null);t["default"]=o.exports},"9f88":function(a,t,s){},c655:function(a,t,s){"use strict";var e=s("9f88"),i=s.n(e);i.a}}]);
//# sourceMappingURL=chunk-26ed3cbd.7a6ea8bb.js.map